# PDF OCR 功能测试指南

## 测试环境准备

### 浏览器要求
推荐使用以下浏览器进行测试：
- Google Chrome 90+（推荐）
- Mozilla Firefox 88+
- Microsoft Edge 90+
- Safari 14+

### 测试文件准备
准备以下类型的PDF文件进行测试：

1. **简单文本PDF** - 包含清晰打印文字的PDF
2. **扫描文档PDF** - 扫描的图片型PDF文档
3. **多页PDF** - 包含多个页面的PDF文档
4. **中英文混合PDF** - 同时包含中文和英文的文档

## 测试步骤

### 1. 启动应用

#### 方式一：直接打开（简单测试）
1. 双击打开 `home.html` 或 `pdf-ocr.html`
2. 浏览器会直接打开应用

#### 方式二：本地服务器（推荐用于完整测试）
```bash
# 使用Python 3
cd /path/to/project
python -m http.server 8000

# 或使用Python 2
python -m SimpleHTTPServer 8000

# 或使用Node.js http-server
npx http-server -p 8000
```

然后访问：
- 主页：http://localhost:8000/home.html
- PDF OCR：http://localhost:8000/pdf-ocr.html

### 2. 功能测试

#### 测试用例1：拖拽上传
1. 打开 `pdf-ocr.html`
2. 准备一个PDF文件
3. 拖拽PDF文件到上传区域
4. 观察是否显示拖拽效果（边框颜色变化）
5. 松开鼠标，确认文件开始处理

**预期结果：**
- 拖拽时显示视觉反馈
- 文件上传后自动开始处理
- 进度条开始显示

#### 测试用例2：点击上传
1. 点击"选择PDF文件"按钮
2. 在文件选择对话框中选择PDF
3. 确认文件开始处理

**预期结果：**
- 文件选择对话框正常打开
- 只显示PDF文件选项
- 选择后自动开始处理

#### 测试用例3：单页PDF识别
1. 上传一个单页PDF文件（建议文件小于5MB）
2. 观察进度显示
3. 等待识别完成

**预期结果：**
- 进度条平滑增长
- 显示"第 1 / 1 页"
- 识别完成后显示结果

#### 测试用例4：多页PDF识别
1. 上传一个3-5页的PDF文件
2. 观察页码进度更新
3. 等待全部识别完成

**预期结果：**
- 页码随处理进度更新
- 每页结果带有页码标记
- 最终合并所有页面结果

#### 测试用例5：文本复制
1. 识别完成后
2. 点击"复制文本"按钮
3. 在任意文本编辑器中粘贴

**预期结果：**
- 按钮显示"已复制"反馈
- 剪贴板包含完整识别文本
- 文本格式保持正确

#### 测试用例6：导出TXT文件
1. 识别完成后
2. 点击"导出为TXT"按钮
3. 确认浏览器下载

**预期结果：**
- 文件自动下载
- 文件名包含时间戳
- 打开TXT文件内容正确

#### 测试用例7：重新上传
1. 识别完成后
2. 点击"重新上传"按钮
3. 确认界面重置

**预期结果：**
- 返回到上传界面
- 之前的数据被清除
- 可以上传新文件

### 3. 边界测试

#### 测试用例8：文件大小限制
1. 尝试上传超过50MB的PDF
2. 观察错误提示

**预期结果：**
- 显示"文件大小超过50MB"错误提示
- 不进行处理
- 界面保持在上传状态

#### 测试用例9：非PDF文件
1. 尝试拖拽图片、Word文档等非PDF文件
2. 观察错误提示

**预期结果：**
- 显示"请上传PDF文件"提示
- 不进行处理

#### 测试用例10：损坏的PDF文件
1. 上传一个损坏或加密的PDF
2. 观察错误处理

**预期结果：**
- 显示错误提示
- 优雅地返回上传界面

### 4. 性能测试

#### 测试用例11：处理时间
使用以下文件测试处理速度：
- 1页简单文本：应在10秒内完成
- 1页复杂图文：应在20秒内完成
- 5页文档：应在1分钟内完成

记录实际处理时间并与预期对比。

#### 测试用例12：内存占用
1. 打开浏览器开发者工具
2. 切换到Performance或Memory标签
3. 上传并处理PDF
4. 观察内存使用情况

**预期结果：**
- 处理过程中内存平稳增长
- 处理完成后内存正常释放
- 无明显内存泄漏

### 5. 兼容性测试

#### 测试用例13：不同浏览器
在以下浏览器中测试相同功能：
- Chrome
- Firefox
- Safari
- Edge

记录任何差异或问题。

#### 测试用例14：移动设备
在移动设备上测试：
- 响应式布局是否正常
- 触摸交互是否流畅
- 文件上传是否可用

### 6. UI/UX测试

#### 测试用例15：响应式设计
1. 调整浏览器窗口大小
2. 测试以下断点：
   - 480px（手机）
   - 768px（平板）
   - 1024px+（桌面）

**预期结果：**
- 布局自动适应屏幕大小
- 所有按钮可点击
- 文字清晰可读

#### 测试用例16：加载动画
1. 观察星空背景动画
2. 观察进度条动画
3. 观察按钮悬停效果

**预期结果：**
- 动画流畅，无卡顿
- 视觉效果美观
- 交互反馈及时

## 识别质量测试

### 测试不同类型的内容

1. **纯文本**
   - 清晰打印的文字
   - 预期识别率：95%+

2. **中英文混合**
   - 同时包含中文和英文
   - 预期识别率：90%+

3. **表格内容**
   - 带有表格的文档
   - 预期：可识别文字，格式可能不完整

4. **手写文字**
   - 清晰的手写内容
   - 预期识别率：60-80%（取决于书写质量）

5. **低质量扫描**
   - 模糊或有噪点的扫描件
   - 预期识别率：50-70%

## 常见问题排查

### 问题1：PDF加载失败
**可能原因：**
- 文件损坏
- 文件被加密
- 浏览器不支持

**解决方法：**
- 尝试用其他PDF阅读器打开文件
- 移除PDF密码保护
- 更换浏览器

### 问题2：识别速度慢
**可能原因：**
- PDF文件太大
- 图片分辨率高
- 电脑性能较低
- 网络问题（首次加载需下载语言包）

**解决方法：**
- 压缩PDF文件
- 关闭其他占用资源的程序
- 确保网络连接正常

### 问题3：识别结果不准确
**可能原因：**
- 原文不清晰
- 文字倾斜
- 字体特殊
- 背景复杂

**改进方法：**
- 使用高质量扫描件
- 调整扫描设置（提高对比度）
- 预处理图片（去噪、矫正）

### 问题4：浏览器兼容性问题
**解决方法：**
- 更新浏览器到最新版本
- 清除浏览器缓存
- 尝试使用Chrome浏览器

## 测试报告模板

### 测试信息
- 测试日期：
- 测试人员：
- 浏览器版本：
- 操作系统：

### 功能测试结果
| 测试用例 | 状态 | 备注 |
|---------|------|------|
| 拖拽上传 | ✓/✗ |      |
| 点击上传 | ✓/✗ |      |
| 单页识别 | ✓/✗ |      |
| 多页识别 | ✓/✗ |      |
| 文本复制 | ✓/✗ |      |
| TXT导出  | ✓/✗ |      |
| 重新上传 | ✓/✗ |      |

### 性能数据
- 单页处理时间：___秒
- 5页处理时间：___秒
- 峰值内存占用：___MB

### 发现的问题
1. 
2. 
3. 

### 改进建议
1. 
2. 
3. 

## 自动化测试建议

如需进行自动化测试，可考虑使用：
- **Selenium** - Web自动化测试
- **Puppeteer** - Chrome无头浏览器测试
- **Jest** - 单元测试框架
- **Cypress** - E2E测试框架

## 联系与反馈

测试过程中遇到问题，请记录详细信息：
- 复现步骤
- 错误截图
- 浏览器控制台日志
- 测试文件样本（如果可以分享）

---

**祝测试顺利！** 🎉
