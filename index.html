<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PDF OCR 文字识别工具</title>
    <link rel="stylesheet" href="styles.css">
    <!-- 引入 PDF.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.4.120/pdf.min.js"></script>
    <!-- 引入 Tesseract.js -->
    <script src="https://cdn.jsdelivr.net/npm/tesseract.js@4/dist/tesseract.min.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>PDF OCR 文字识别工具</h1>
            <p>基于浏览器端的 PDF 转文字工具，保护您的隐私</p>
        </header>

        <main>
            <section class="upload-section">
                <div class="file-input-wrapper">
                    <button class="btn-primary" id="select-file-btn">选择 PDF 文件</button>
                    <input type="file" id="pdf-upload" accept="application/pdf" style="display: none;">
                    <span id="file-name-display">未选择任何文件</span>
                </div>

                <div class="settings-section">
                    <label for="language-select">选择识别语言：</label>
                    <select id="language-select">
                        <option value="chi_sim">简体中文 (Simplified Chinese)</option>
                        <option value="chi_tra">繁体中文 (Traditional Chinese)</option>
                        <option value="eng">英语 (English)</option>
                        <option value="chi_sim+eng">中英混合 (Chinese + English)</option>
                        <option value="chi_sim+chi_tra+eng">全部 (Simplified + Traditional + English)</option>
                    </select>
                </div>

                <div class="action-buttons">
                    <button id="start-btn" class="btn-success" disabled>开始识别</button>
                    <button id="clear-btn" class="btn-danger">清空所有</button>
                </div>
            </section>

            <section id="progress-container" class="progress-container" style="display: none;">
                <div class="progress-header">
                    <span id="progress-status">准备就绪...</span>
                    <span id="progress-percent">0%</span>
                </div>
                <div class="progress-bar-bg">
                    <div id="progress-bar-fill" class="progress-bar-fill" style="width: 0%;"></div>
                </div>
                <p id="page-indicator">处理页数: 0 / 0</p>
            </section>

            <section id="error-display" class="error-display" style="display: none;">
                <p id="error-message"></p>
            </section>

            <section class="result-section">
                <div class="result-header">
                    <h2>识别结果预览</h2>
                    <button id="download-btn" class="btn-secondary" disabled>下载 TXT 结果</button>
                </div>
                <textarea id="result-text" readonly placeholder="识别结果将在这里显示..."></textarea>
            </section>
        </main>

        <footer>
            <p>&copy; 2023 PDF OCR Tool - 纯前端处理，不上传服务器</p>
        </footer>
    </div>

    <script src="script.js"></script>
</body>
</html>
